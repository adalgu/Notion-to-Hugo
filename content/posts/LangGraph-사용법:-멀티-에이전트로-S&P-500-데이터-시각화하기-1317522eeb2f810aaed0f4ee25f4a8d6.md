---
title: "LangGraph 사용법: 멀티 에이전트로 S&P 500 데이터 시각화하기"
date: "2024-11-01T18:07:00.000Z"
lastmod: "2024-11-01T18:15:00.000Z"
draft: false
featuredImage: "https://prod-files-secure.s3.us-west-2.amazonaws.com/94f51666-2\
  73a-443d-bf89-42827b5b6876/79553f1a-5718-41bf-82da-ef094e8bf37a/DALLE_2024-06\
  -03_15.51.16_-_A_graphical_illustration_of_multiple_agents_collaborating_in_a\
  _workflow_cycle_showing_various_agents_like_a_search_agent_a_chart_generation\
  _agent_a.webp?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-\
  PAYLOAD&X-Amz-Credential=AKIAT73L2G45GO43JXI4%2F20241102%2Fus-west-2%2Fs3%2Fa\
  ws4_request&X-Amz-Date=20241102T001711Z&X-Amz-Expires=3600&X-Amz-Signature=49\
  f86730a4516836a3346e0fd91edc82d06d4b497a7ad940a246fd7d78f56201&X-Amz-SignedHe\
  aders=host&x-id=GetObject"
series: []
Subtitle: "LangGraph: 멀티 에이전트 콜라보레이션의 새로운 표준"
Slug: "langchain-langgraph-multi-agent-collaboration"
Published: "2024-06-03"
tags: []
categories: []
Featured: true
summary: "LangChain의 새로운 라이브러리 LangGraph를 소개합니다. LangGraph를 사용하여 멀티 에이전트 콜라보레이션을
  구현하고 S&P 500 지수 데이터를 검색하고 시각화하는 방법을 알아보세요."
Author: "Gunn Kim"
authors:
  - "Gunn Kim"
Status: "Not started"
Public: true
Description: "LangChain의 새로운 라이브러리 LangGraph를 소개합니다. LangGraph를 사용하여 멀티 에이전트
  콜라보레이션을 구현하고 S&P 500 지수 데이터를 검색하고 시각화하는 방법을 알아보세요."
NOTION_METADATA:
  object: "page"
  id: "1317522e-eb2f-810a-aed0-f4ee25f4a8d6"
  created_time: "2024-11-01T18:07:00.000Z"
  last_edited_time: "2024-11-01T18:15:00.000Z"
  created_by:
    object: "user"
    id: "04ade8dc-857d-40ba-9484-61bf41015314"
  last_edited_by:
    object: "user"
    id: "04ade8dc-857d-40ba-9484-61bf41015314"
  cover:
    type: "file"
    file:
      url: "https://prod-files-secure.s3.us-west-2.amazonaws.com/94f51666-273a-443d-b\
        f89-42827b5b6876/79553f1a-5718-41bf-82da-ef094e8bf37a/DALLE_2024-06-03_\
        15.51.16_-_A_graphical_illustration_of_multiple_agents_collaborating_in\
        _a_workflow_cycle_showing_various_agents_like_a_search_agent_a_chart_ge\
        neration_agent_a.webp?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sh\
        a256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45GO43JXI4%2F20241102%\
        2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20241102T001521Z&X-Amz-Expir\
        es=3600&X-Amz-Signature=12c4e629de4580cbab45440d738e21138094373a2c28c1c\
        20d7c346d0b0b6efe&X-Amz-SignedHeaders=host&x-id=GetObject"
      expiry_time: "2024-11-02T01:15:21.508Z"
  icon: null
  parent:
    type: "database_id"
    database_id: "8229e4e4-34a6-47f7-b098-c86b7cd83ad6"
  archived: false
  in_trash: false
  properties:
    Created:
      id: "Aqll"
      type: "created_time"
      created_time: "2024-11-01T18:07:00.000Z"
    series:
      id: "B%3C%3FS"
      type: "multi_select"
      multi_select: []
    Subtitle:
      id: "DD_F"
      type: "rich_text"
      rich_text:
        - type: "text"
          text:
            content: "LangGraph: 멀티 에이전트 콜라보레이션의 새로운 표준"
            link: null
          annotations:
            bold: false
            italic: false
            strikethrough: false
            underline: false
            code: false
            color: "default"
          plain_text: "LangGraph: 멀티 에이전트 콜라보레이션의 새로운 표준"
          href: null
    Page ID:
      id: "FqAD"
      type: "formula"
      formula:
        type: "string"
        string: "1317522eeb2f810aaed0f4ee25f4a8d6"
    draft:
      id: "JiWU"
      type: "checkbox"
      checkbox: false
    Last Updated:
      id: "%5C%5BBm"
      type: "last_edited_time"
      last_edited_time: "2024-11-01T18:15:00.000Z"
    Tweet:
      id: "%60SwQ"
      type: "rich_text"
      rich_text: []
    authors:
      id: "bK%3B%5B"
      type: "people"
      people: []
    custom-front-matter:
      id: "c~kA"
      type: "rich_text"
      rich_text: []
    Slug:
      id: "fRDG"
      type: "rich_text"
      rich_text:
        - type: "text"
          text:
            content: "langchain-langgraph-multi-agent-collaboration"
            link: null
          annotations:
            bold: false
            italic: false
            strikethrough: false
            underline: false
            code: false
            color: "default"
          plain_text: "langchain-langgraph-multi-agent-collaboration"
          href: null
    Published:
      id: "fy%3Ft"
      type: "date"
      date:
        start: "2024-06-03"
        end: null
        time_zone: null
    tags:
      id: "jw%7CC"
      type: "multi_select"
      multi_select: []
    categories:
      id: "nbY%3F"
      type: "multi_select"
      multi_select: []
    Featured:
      id: "oN%3F%3A"
      type: "checkbox"
      checkbox: true
    summary:
      id: "x%3AlD"
      type: "rich_text"
      rich_text:
        - type: "text"
          text:
            content: "LangChain의 새로운 라이브러리 LangGraph를 소개합니다. LangGraph를 사용하여 멀티 에이전트 콜라보레이션을
              구현하고 S&P 500 지수 데이터를 검색하고 시각화하는 방법을 알아보세요."
            link: null
          annotations:
            bold: false
            italic: false
            strikethrough: false
            underline: false
            code: false
            color: "default"
          plain_text: "LangChain의 새로운 라이브러리 LangGraph를 소개합니다. LangGraph를 사용하여 멀티 에이전트
            콜라보레이션을 구현하고 S&P 500 지수 데이터를 검색하고 시각화하는 방법을 알아보세요."
          href: null
    Name:
      id: "title"
      type: "title"
      title:
        - type: "text"
          text:
            content: "LangGraph 사용법: 멀티 에이전트로 S&P 500 데이터 시각화하기"
            link: null
          annotations:
            bold: false
            italic: false
            strikethrough: false
            underline: false
            code: false
            color: "default"
          plain_text: "LangGraph 사용법: 멀티 에이전트로 S&P 500 데이터 시각화하기"
          href: null
    Author:
      id: "1f9a8ffc-dde9-4927-a747-6e2c304d6bd7"
      type: "rich_text"
      rich_text:
        - type: "text"
          text:
            content: "Gunn Kim"
            link: null
          annotations:
            bold: false
            italic: false
            strikethrough: false
            underline: false
            code: false
            color: "default"
          plain_text: "Gunn Kim"
          href: null
    Status:
      id: "6980bb35-4874-4a92-9a8b-26cece24bfd0"
      type: "status"
      status:
        id: "fff0dacc-f9f6-4bed-b9e3-fc94b86f8542"
        name: "Not started"
        color: "default"
    Public:
      id: "8b3317bf-8bd9-4e07-b430-829f6408dd57"
      type: "checkbox"
      checkbox: true
    Description:
      id: "a8a234b4-277e-4754-9339-c588720def12"
      type: "rich_text"
      rich_text:
        - type: "text"
          text:
            content: "LangChain의 새로운 라이브러리 LangGraph를 소개합니다. LangGraph를 사용하여 멀티 에이전트 콜라보레이션을
              구현하고 S&P 500 지수 데이터를 검색하고 시각화하는 방법을 알아보세요."
            link: null
          annotations:
            bold: false
            italic: false
            strikethrough: false
            underline: false
            code: false
            color: "default"
          plain_text: "LangChain의 새로운 라이브러리 LangGraph를 소개합니다. LangGraph를 사용하여 멀티 에이전트
            콜라보레이션을 구현하고 S&P 500 지수 데이터를 검색하고 시각화하는 방법을 알아보세요."
          href: null
  url: "https://www.notion.so/LangGraph-S-P-500-1317522eeb2f810aaed0f4ee25f4a8d6"
  public_url: "https://datarecipe.notion.site/LangGraph-S-P-500-1317522eeb2f810aa\
    ed0f4ee25f4a8d6"
UPDATE_TIME: "2024-11-02T00:17:21.852Z"
EXPIRY_TIME: "2024-11-02T01:17:09.327Z"

---


# LangChain이 만든 멀티 에이전트 라이브러리 LangGraph를 알아보자


안녕하세요! 오늘은 최근에 출시된 LangChain의 새로운 라이브러리인 LangGraph에 대해 알아보겠습니다. 이 글에서는 LangGraph의 멀티 에이전트 콜라보레이션 기능을 살펴보고, 실제 예제를 통해 어떻게 동작하는지 알아보겠습니다. 이 글을 통해 LangGraph의 기본 개념부터 활용법까지 쉽게 따라할 수 있도록 설명드리겠습니다.


![](https://prod-files-secure.s3.us-west-2.amazonaws.com/94f51666-273a-443d-bf89-42827b5b6876/fed4ecbe-e2cc-4b1a-8639-2644d21b4c37/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45GO43JXI4%2F20241102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20241102T001709Z&X-Amz-Expires=3600&X-Amz-Signature=a6c3ed42319342898f48bb464acbb334ccefbfe778e014ca24842211b22ff674&X-Amz-SignedHeaders=host&x-id=GetObject)


## LangGraph란 무엇인가?


LangGraph는 LangChain에서 만든 새로운 라이브러리로, 여러 에이전트가 협업하여 작업을 수행하는 기능을 제공합니다. 기존의 멀티 에이전트 시스템과 달리 LangGraph는 에이전트 간의 명확한 흐름도와 상태 관리를 지원하여 보다 체계적이고 효율적인 작업을 수행할 수 있게 해줍니다.


### LangGraph의 주요 기능

1. **사이클 구조**: 각 에이전트가 단순히 역할을 수행하고 끝나는 것이 아니라, 명확한 사이클을 통해 다음 역할을 수행할 에이전트에게 전달합니다.
1. **글로벌 스테이트 관리**: 모든 에이전트가 현재 상태를 공유하여, 전체 시스템의 상태를 파악하고 작업을 진행합니다.
1. **다양한 도구와의 연동**: 검색, 차트 생성, 코드 실행 등 다양한 도구와 연동하여 작업을 수행할 수 있습니다.

![](https://prod-files-secure.s3.us-west-2.amazonaws.com/94f51666-273a-443d-bf89-42827b5b6876/d3ebb614-4ce4-4676-b5eb-de8883f890c6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45GO43JXI4%2F20241102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20241102T001709Z&X-Amz-Expires=3600&X-Amz-Signature=5fab51cc5f2c3770e8947f4505076d87c3a3c272868692bc1d6a206b5538242f&X-Amz-SignedHeaders=host&x-id=GetObject)


### LangGraph의 혁신적인 점


LangGraph는 기존의 멀티 에이전트 시스템보다 한층 더 발전된 기능을 제공합니다. 특히, 에이전트 간의 협업을 강화하고 작업의 효율성을 극대화하는 방식이 매우 혁신적입니다.

1. **에이전트의 역할 분담과 협업**: LangGraph에서는 각 에이전트가 명확한 역할을 맡고, 그 역할에 따라 작업을 수행합니다. 예를 들어, 검색 에이전트는 데이터를 수집하고, 차트 생성 에이전트는 수집된 데이터를 바탕으로 그래프를 그립니다.
1. **상태 관리 및 공유**: 모든 에이전트가 현재 작업의 상태를 공유합니다. 이를 통해 에이전트 간의 협업이 원활하게 이루어질 수 있으며, 작업의 진행 상황을 실시간으로 파악할 수 있습니다.
1. **명확한 흐름도**: LangGraph는 에이전트 간의 작업 흐름을 명확하게 정의합니다. 이를 통해 각 에이전트가 언제 어떤 작업을 수행해야 하는지 알 수 있으며, 작업의 순서를 체계적으로 관리할 수 있습니다.

### LangGraph로 할 수 있는 일


LangGraph를 사용하면 여러 개의 '에이전트'가 서로 협력하여 다양한 작업을 자동으로 수행할 수 있습니다. 쉽게 이해할 수 있도록 몇 가지 예를 들어보겠습니다.

1. **데이터 검색 및 수집**:
	- 예를 들어, 학교 과제로 특정 주제에 대해 자료를 찾아야 한다고 생각해보세요. LangGraph를 사용하면 에이전트가 인터넷에서 필요한 자료를 자동으로 검색하고 수집해줍니다.
1. **데이터 분석 및 시각화**:
	- 수집한 데이터를 바탕으로 차트나 그래프를 만들어야 할 때, LangGraph의 에이전트가 데이터를 분석하고 예쁜 그래프를 그려줄 수 있습니다.
1. **복잡한 작업의 자동화**:
	- 여러 단계의 작업이 필요한 경우, 각 단계를 여러 에이전트가 나눠서 수행하고, 최종 결과를 만들어냅니다. 예를 들어, 데이터 검색, 정리, 분석, 시각화 등 각 단계를 에이전트가 협력하여 수행합니다.

## LangGraph 사용 예제


이제 LangGraph를 사용하여 실제로 멀티 에이전트 콜라보레이션을 구현하는 예제를 보겠습니다. 예제에서는 S&P 500 지수 데이터를 검색하고, 이를 차트로 그리는 작업을 수행합니다.


### 1. 환경 설정 및 에이전트 생성


먼저 LangGraph를 사용하기 위해 필요한 환경을 설정하고 에이전트를 생성합니다.


```python
# API 키 설정
api_key = 'your_api_key_here'

# 에이전트 생성 함수
def create_agent():
    from langchain.agents import Agent
    from langchain.tools import GoogleSearchTool, PythonExecutorTool

    # 에이전트가 사용할 도구들
    tools = [GoogleSearchTool(api_key=api_key), PythonExecutorTool()]

    # 에이전트 생성
    agent = Agent(tools=tools, system_message='검색 및 차트 생성을 수행합니다.')
    return agent

```


### 2. 도구 정의


검색과 차트 생성을 위한 도구를 정의합니다.


```python
# 구글 검색 도구 정의
search_tool = GoogleSearchTool(api_key=api_key)

# 파이썬 코드 실행 도구 정의
python_tool = PythonExecutorTool()

```


### 3. 에이전트 상태 관리 및 노드 생성


에이전트의 상태를 관리하고, 작업을 수행할 노드를 생성합니다.


```python
from langchain.state import AgentState

# 에이전트 상태 클래스 정의
class AgentState:
    def __init__(self):
        self.state = {}

# 노드 생성 함수
def create_node(agent, state):
    from langchain.nodes import Node

    # 에이전트 노드 생성
    node = Node(agent=agent, state=state)
    return node

```


### 4. 멀티 에이전트 콜라보레이션 구현


리서치 에이전트와 차트 생성 에이전트를 정의하고, 각 에이전트가 협업하여 작업을 수행하는 흐름을 구현합니다.


```python
# 리서치 에이전트 정의
research_agent = create_agent()
research_state = AgentState()

# 차트 생성 에이전트 정의
chart_agent = create_agent()
chart_state = AgentState()

# 리서치 노드 생성
research_node = create_node(research_agent, research_state)

# 차트 생성 노드 생성
chart_node = create_node(chart_agent, chart_state)

```


### 5. 그래프 정의 및 실행


에이전트 간의 흐름을 정의하고, 그래프를 실행하여 작업을 수행합니다.


```python
from langchain.graph import Graph

# 그래프 정의
graph = Graph()
graph.add_node(research_node)
graph.add_node(chart_node)
graph.add_edge(research_node, chart_node, condition='data_collected')

# 그래프 실행
graph.run('S&P 500 지수의 최근 5년간 데이터를 찾아줘.')

```


### 6. 결과 확인 및 시각화


수집된 데이터를 바탕으로 차트를 생성하고 결과를 확인합니다.


```python
# 수집된 데이터 예제
data = {
    '2019': 2946.35,
    '2020': 3756.07,
    '2021': 4766.18,
    '2022': 3785.38,
    '2023': 4193.50
}

# 차트 생성 코드
import matplotlib.pyplot as plt

years = list(data.keys())
values = list(data.values())

plt.plot(years, values, marker='o')
plt.title('S&P 500 지수 (2019-2023)')
plt.xlabel('년도')
plt.ylabel('지수')
plt.show()

```


이렇게 해서 LangGraph를 사용하여 멀티 에이전트 콜라보레이션을 구현하고, 데이터를 검색하고 시각화하는 과정을 살펴보았습니다. LangGraph는 다양한 작업을 효율적으로 처리할 수 있는 강력한 도구이므로, 여러분들도 한번 사용해 보시길 추천드립니다.


## 결론


오늘은 LangChain에서 새로 출시한 LangGraph에 대해 알아보았습니다. LangGraph의 멀티 에이전트 콜라보레이션 기능을 통해 여러 작업을 체계적으로 처리할 수 있음을 확인했습니다. 앞으로도 LangGraph를 활용한 다양한 예제를 통해 더 많은 기능을 살펴보시길 바랍니다. 감사합니다.

